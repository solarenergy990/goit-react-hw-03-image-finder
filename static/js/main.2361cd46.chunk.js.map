{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.module.css","components/App/App.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Button/Button.js","components/Modal/Modal.js","components/Container/Container.js","components/services/image-api.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","image","largeImageURL","onModalOpen","webformatURL","tags","className","s","src","alt","onClick","evt","console","log","target","attributes","value","ImageGalleryItemImage","imageGallery","this","props","imageArr","ImageGallery","map","id","Component","defaultProps","propTypes","array","Searchbar","state","imageName","handleNameChange","setState","currentTarget","toLowerCase","handleSubmit","preventDefault","trim","onSubmit","alert","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Button","modalRoot","document","querySelector","Modal","onEscDown","code","onModalClose","onBackdropClick","window","addEventListener","removeEventListener","createPortal","Overlay","children","Container","container","imageAPI","fetchImage","query","page","url","fetch","then","response","ok","json","hits","App","pictures","currentPage","searchQuery","isLoading","error","openModal","handleFormSubmit","largeImg","fetchPictures","prevState","length","scrollDown","scrollTo","top","documentElement","scrollHeight","behavior","onLoadMore","finally","setLargeImg","imgLink","onLargeImgOpen","modalToggler","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2361cd46.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3XdA_\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3EVlM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2kwe-\",\"Modal\":\"Modal_Modal__79lnf\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3Av3y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2id94\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1vUBP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3wOVV\"};","import React from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({ image, largeImageURL, onModalOpen }) => {\r\n  // console.log(onModalOpen);\r\n  const { webformatURL, tags } = image;\r\n\r\n  return (\r\n    <li className={s.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        onClick={(evt) => {\r\n          console.log(evt.target);\r\n          onModalOpen(evt.target.attributes[\"data-large\"].value);\r\n        }}\r\n        className={s.ImageGalleryItemImage}\r\n        data-large={largeImageURL}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.object.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  onModalOpen: PropTypes.func.isRequired,\r\n};\r\nexport default ImageGalleryItem;\r\n","import React, { Component } from \"react\";\r\nimport ImageGalleryItem from \"./ImageGalleryItem/ImageGalleryItem\";\r\nimport propTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n// import imageAPI from \"../services/image-api\";\r\n\r\nclass imageGallery extends Component {\r\n  static defaultProps = { imageArr: propTypes.array };\r\n  static propTypes = {\r\n    imageArr: propTypes.array,\r\n    onModalOpen: propTypes.func,\r\n  };\r\n  render() {\r\n    // console.log(this.props.imageArr);\r\n    const { imageArr, onModalOpen } = this.props;\r\n    return (\r\n      <div>\r\n        <ul className={s.ImageGallery}>\r\n          {imageArr &&\r\n            imageArr.map((image) => {\r\n              return (\r\n                <ImageGalleryItem\r\n                  image={image}\r\n                  key={image.id}\r\n                  largeImageURL={image.largeImageURL}\r\n                  onModalOpen={onModalOpen}\r\n                />\r\n              );\r\n            })}\r\n        </ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default imageGallery;\r\n","import React, { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport propTypes from \"prop-types\";\n\nclass Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n\n  static propTypes = { onSubmit: propTypes.func };\n\n  handleNameChange = (evt) => {\n    this.setState({ imageName: evt.currentTarget.value.toLowerCase() });\n  };\n\n  handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if (this.state.imageName.trim() === \"\") {\n      alert(\"Enter search query in the search field\"); //toastify here\n      return;\n    }\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            onChange={this.handleNameChange}\n            value={this.state.imageName}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\r\nimport s from \"./Button.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ onClick }) => {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={onClick}>\r\n      Load More\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport s from \"./Modal.module.css\";\r\nimport { createPortal } from \"react-dom\";\r\nimport propTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  static propTypes = { onModalClose: propTypes.func };\r\n\r\n  componentDidMount() {\r\n    console.log(\"component did mount\");\r\n    window.addEventListener(\"keydown\", this.onEscDown);\r\n  }\r\n\r\n  onEscDown = (evt) => {\r\n    if (evt.code === \"Escape\") {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n  onBackdropClick = (evt) => {\r\n    if (evt.currentTarget === evt.target) {\r\n      this.props.onModalClose();\r\n    }\r\n  };\r\n\r\n  componentWillUnmount() {\r\n    console.log(\" component will unmount\");\r\n    window.removeEventListener(\"keydown\", this.onEscDown);\r\n  }\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport s from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","const API_KEY = \"21934405-57162f124158c436f0bdddd5d\";\r\nconst BASE_URL = \"https://pixabay.com/api\";\r\n\r\n// https://pixabay.com/api/?key=21934405-57162f124158c436f0bdddd5d&q=yellow+flowers&image_type=photo\r\n\r\nfunction fetchImage(query, page) {\r\n  // console.log(\"api arguments:\", query, page);\r\n  const url = `${BASE_URL}/?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&page=${page}&per_page=12`;\r\n\r\n  return fetch(url)\r\n    .then((response) => {\r\n      if (response.ok) {\r\n        return response.json();\r\n      }\r\n    })\r\n    .then(({ hits }) => {\r\n      return hits;\r\n    });\r\n}\r\n\r\nconst imageAPI = { fetchImage };\r\n\r\nexport default imageAPI;\r\n","import React, { Component } from \"react\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport Loader from \"react-loader-spinner\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport Button from \"../Button/Button\";\nimport Modal from \"../Modal/Modal\";\nimport Container from \"../Container/Container\";\nimport s from \"./App.module.css\";\nimport imageAPI from \"../services/image-api\";\n\nclass App extends Component {\n  state = {\n    pictures: [],\n    currentPage: 1,\n    searchQuery: \"\",\n    isLoading: false,\n    error: null,\n    openModal: false,\n  };\n\n  handleFormSubmit = (searchQuery) => {\n    const query = searchQuery;\n    const page = 1;\n\n    // console.log(searchQuery);\n    this.setState({\n      searchQuery,\n      currentPage: page,\n      pictures: [],\n      isLoading: true,\n      largeImg: \"\",\n    });\n\n    this.fetchPictures(query, page);\n  };\n\n  fetchPictures = (query, page) => {\n    // console.log(this.state.currentPage);\n    // console.log(this.state.pictures);\n\n    return imageAPI.fetchImage(query, page).then((pictures) => {\n      this.setState((prevState) => ({\n        pictures: [...prevState.pictures, ...pictures],\n        currentPage: prevState.currentPage + 1,\n        isLoading: false,\n      }));\n      if (this.state.pictures.length === 0) {\n        alert(\"Nothing found!\");\n      }\n    });\n  };\n\n  scrollDown = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  onLoadMore = () => {\n    const { currentPage, searchQuery } = this.state;\n\n    this.setState({ isLoading: true });\n    this.fetchPictures(searchQuery, currentPage).finally(this.scrollDown);\n  };\n\n  setLargeImg = (imgLink) => {\n    // console.log(imgLink);\n    return this.setState(({ largeImg }) => ({ largeImg: imgLink }));\n  };\n\n  onLargeImgOpen = (imgLink) => {\n    // console.log(imgLink);\n    this.setLargeImg(imgLink);\n    this.modalToggler();\n  };\n\n  modalToggler = () => {\n    this.setState(({ openModal }) => ({ openModal: !openModal }));\n  };\n\n  render() {\n    const { pictures, openModal, isLoading, largeImg, searchQuery } =\n      this.state;\n\n    return (\n      <div className={s.App}>\n        {openModal && (\n          <Modal onModalClose={this.modalToggler}>\n            <img src={largeImg} alt={searchQuery} />\n          </Modal>\n        )}\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        <Container>\n          <ImageGallery imageArr={pictures} onModalOpen={this.onLargeImgOpen} />\n        </Container>\n\n        <Container>\n          {isLoading && (\n            <Loader type=\"Grid\" color=\"#00BFFF\" height={80} width={80} />\n          )}\n          {pictures.length > 0 && !isLoading && (\n            <Button onClick={this.onLoadMore} />\n          )}\n        </Container>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"modern-normalize/modern-normalize.css\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2HF0z\",\"SearchForm\":\"Searchbar_SearchForm__2UzTn\",\"SearchFormButton\":\"Searchbar_SearchFormButton__2q3W0\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2PEim\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2Zbtq\"};"],"sourceRoot":""}